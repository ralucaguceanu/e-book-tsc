## OpenBook-E-Book-Reader - _Guceanu Raluca-Zinca-Ioana - 331CD_

### Diagrama bloc a proiectului

![tsc_diagrama](https://github.com/user-attachments/assets/1d7aafd5-7a60-404e-ab42-a7b13a0d373a)

---

### BOM (Bill Of Materials) cu componentele 3D folosite

| Cantitate | Componentă               | Mouser Link | Datasheet Link |
|-----|--------------------------|-------------|----------------|
| 30  | RC0402FR-07100KL        | [link](https://ro.mouser.com/ProductDetail/YAGEO/RC0402FR-07100KL?qs=mnq%2FyloZIXzTlUn7JAHSWg%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/447/YAGEO_PYu_RC_Group_51_RoHS_L_12-3313492.pdf)       |
| 26  | C0402C560J4HACAUTO      | [link](https://ro.mouser.com/ProductDetail/KEMET/C0402C560J4HACAUTO?qs=j%252B1pi9TdxUae00jFMoJVSQ%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/447/KEM_C1007_X8R_ULTRA_150C_SMD-3316375.pdf)       |
| 6   | PGB1010603MR            | [link](https://ro.mouser.com/ProductDetail/Littelfuse/PGB1010603MR?qs=gu7KAQ731URLg4GSnNNN7Q%3D%3D)    | [link](https://www.littelfuse.com/assetdocs/pulseguard-esd-suppressors-pgb1-datasheet?assetguid=8a337998-d54d-466b-be4e-dc5bcd1f9321)       |
| 3   | EVQPU-JA-02K            | [link](https://ro.mouser.com/ProductDetail/Panasonic/EVQ-PUJ02K?qs=Pa1bP%252BeMzadWe338tXJdGA%3D%3D&utm_id=6470900573&utm_source=google&utm_medium=cpc&utm_marketing_tactic=emeacorp&gad_source=1&gclid=Cj0KCQjwhr6_BhD4ARIsAH1YdjDojUOy3z-znw0CDIjpGvdt6bcYKm_o6AbZvCk-vG340hQQp_eIiz0aAl0iEALw_wcB)    | [link](https://4donline.ihs.com/images/VipMasterIC/IC/PANA/PANA-S-A0003211477/PANA-S-A0004028532-1.pdf?hkey=CECEF36DEECDED6468708AAF2E19C0C6)       |
| 3   | MBR0530                 | [link](https://ro.mouser.com/ProductDetail/onsemi/MBR0530T3G?qs=3JMERSakebpEmdUS6GetdQ%3D%3D)    | [link](https://www.onsemi.com/PowerSolutions/product.do?id=MBR0530T3G)       |
| 2   | SD0805S020S1R0          | [link](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/SD0805S020S1R0?qs=jCA%252BPfw4LHbpkAoSnwrdjw%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/40/schottky-3165252.pdf)       |
| 2   | Si1308EDL-T1-GE3        | [link](https://ro.mouser.com/ProductDetail/Vishay-Semiconductors/SI1308EDL-T1-GE3?qs=bX1%252BNvsK%2FBramh9tgpOaEw%3D%3D)    | [link](https://www.vishay.com/doc?63399)       |
| 1   | USBLC6-2SC6Y            | [link](https://ro.mouser.com/ProductDetail/STMicroelectronics/USBLC6-2SC6Y?qs=gNDSiZmRJS%2FOgDexvXkdow%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/389/usblc6_2sc6y-1852505.pdf)       |
| 1   | BD5229G-TR              | [link](https://ro.mouser.com/ProductDetail/ROHM-Semiconductor/BD5229G-TR?qs=4kLU8WoGk0vvnhrrYwdszw%3D%3D)    | [link](https://fscdn.rohm.com/en/products/databook/datasheet/ic/power/voltage_detector/bd52xxg-e.pdf)       |
| 1   | XC6220A331MR-G          | [link](https://ro.mouser.com/ProductDetail/Torex-Semiconductor/XC6220A331MR-G?qs=AsjdqWjXhJ8ZSWznL1J0gg%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/760/xc6220-3371556.pdf)       |
| 1   | FH34SRJ-24S-0.5SH_99_   | [link](https://ro.mouser.com/ProductDetail/Hirose-Connector/FH34SRJ-24S-0.5SH99?qs=vcbW%252B4%252BSTIpKBl5ap9J8Fw%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/185/FH34SRJ_24S_0_5SH_99__CL0580_1255_6_99_2DDrawing_0-1615044.pdf)       |
| 1   | USB4110-GF-A            | [link](https://ro.mouser.com/ProductDetail/GCT/USB4110-GF-A?qs=KUoIvG%2F9IlYiZvIXQjyJeA%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/837/GCT_USB4110_Product_Drawing___20k_cycles-3455479.pdf)       |
| 1   | 112A-TAAR-R03_ATTEND    | [link](https://www.digikey.ro/ro/products/detail/attend-technology/112A-TAAR-R03/17633923)    | [link](https://www.attend.com.tw/data/download/file/112A-TAAR-R03_Spec.pdf)       |
| 1   | TPC-4828                | [link](https://ro.mouser.com/ProductDetail/Wurth-Elektronik/744065151?qs=PGXP4M47uW53TYf%2FkIVaSQ%3D%3D)    | [link](https://www.we-online.com/components/products/datasheet/744065151.pdf)       |
| 1   | LG_R971-KN-1            | [link](https://ro.mouser.com/ProductDetail/ams-OSRAM/LG-R971-KN-1?qs=LsPilcdHE7EX1EB7GCLHxg%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/588/prd_pim_datasheet_2191277_EN_pdf-3419125.pdf)       |
| 1   | MCP73831T-2ATI_OT       | [link](https://ro.mouser.com/ProductDetail/Microchip-Technology/MCP73831T-2ATI-OT?qs=yUQqVecv4qsZbioEUu%252B83g%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/268/MCP73831_Family_Data_Sheet_DS20001984H-3441711.pdf)       |
| 1   | PFMF.050.2              | [link](https://ro.mouser.com/ProductDetail/Schurter/PFMF.050.2?qs=1auRipcfynCums5v1iucSA%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/358/typ_PFMF-1275918.pdf)       |
| 1   | DMG2305UX-7             | [link](https://ro.mouser.com/ProductDetail/Diodes-Incorporated/DMG2305UX-7?qs=L1DZKBg7t5F%2FNBHrjfxC%252Bg%3D%3D)    | [link](https://www.diodes.com/assets/Datasheets/DMG2305UX.pdf)       |
| 1   | BME688                  | [link](https://ro.mouser.com/ProductDetail/Bosch-Sensortec/BME688?qs=IS%252B4QmGtzzqQoVDscqwx3A%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/783/bst_bme688_fl000-2307034.pdf)       |
| 1   | CPH3225A                | [link](https://ro.mouser.com/ProductDetail/Seiko-Semiconductors/CPH3225A?qs=3etwrb1wR%252BhUOph6lAO7eg%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/360/Seiko_Instruments_MicroBattery_E_20230330_2024Jan_-3561061.pdf)       |
| 1   | W25Q512JVEIQ            | [link](https://ro.mouser.com/ProductDetail/Winbond/W25Q512JVEIQ?qs=l7cgNqFNU1jw6svr3at6tA%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/949/Winbond_W25Q512JV_Datasheet-3240039.pdf)       |
| 1   | ESP32-C6-WROOM-1-N8     | [link](https://ro.mouser.com/ProductDetail/Espressif-Systems/ESP32-C6-WROOM-1-N8?qs=8Wlm6%252BaMh8ST02Gmwp74cw%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/891/Espressif_ESP32_C6_WROOM_1__Datasheet_V0_1_PRELIMI-3239987.pdf)       |
| 1   | DS3231SN#               | [link](https://ro.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/DS3231SN?qs=1eQvB6Dk1vhUlr8%2FOrV0Fw%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/609/DS3231-3421123.pdf)       |
| 1   | MAX17048G+T10           | [link](https://ro.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/MAX17048G%2bT10?qs=D7PJwyCwLAoGnnn8jEPRBQ%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/609/MAX17048_MAX17049-3469099.pdf)       |
| 1   | Ada 4328                | [link](https://ro.mouser.com/ProductDetail/Adafruit/4328?qs=wnTfsH77Xs6Ypm3wH0xoXg%3D%3D)    | [link](https://www.snapeda.com/parts/4328/Adafruit/view-part/?ref=mouser)       |
| 1   | T491B226K006AT          | [link](https://ro.mouser.com/ProductDetail/KEMET/T491B226K006AT?qs=jcsBHvPDQt8yMdJgz62biA%3D%3D)    | [link](https://ro.mouser.com/datasheet/2/447/KEM_T2005_T491-3316937.pdf)       |

---

### Descrierea Funcționalității Hardware a Ebook Reader-ului

Ebook readerul proiectat utilizează o arhitectură bazată pe microcontrolerul ESP32-C6, integrând multiple module pentru a oferi funcționalități avansate de afișare, stocare, conectivitate și monitorizare. Următoarea descriere detaliază componentele utilizate, interfețele de comunicare, specificațiile hardware și calculele de consum energetic.

---

### 1. Microcontroller Principal: ESP32-C6
- **Rol:** Controlul central al ebook readerului, procesare date și comunicație wireless.
- **Specificații:**
  - Interfețe: SPI, I2C, USB.
  - Alimentare: 3.3V.

**Interfațare cu module:**
- **E-Paper Display:** Interfață SPI pentru transfer rapid de date grafice.
- **Memorie NOR Flash:** SPI pentru stocare firmware și resurse grafice.
- **SD Card:** SPI pentru fișiere ebook.
- **RTC DS3231SN:** I2C pentru menținerea orei și alarme.
- **BME688 Sensor:** I2C pentru monitorizare mediu.
- **Baterie Li-Po:** I2C pentru monitorizarea prin Fuel Gauge (MAX17048).
- **USB-C:** Alimentare și transfer de date.
- **Qwiic/Stemma QT:** Conectarea rapidă a modulelor suplimentare.

---

### 2. Alimentare și Management Energie
- **Modul de Alimentare USB-C:** Asigură 5V pentru încărcare și comunicație USB 2.0.
- **LDO Voltage Regulator:** Convertor 5V -> 3.3V pentru alimentarea modulelor.
- **Protecție ESD:** TVS pe liniile USB pentru protecție la supratensiuni.
- **Baterie Li-Po:** Monitorizare prin MCP73831 și MAX17048 pentru încărcare și nivel de baterie.
- **Supercapacitor:** Menținerea energiei pe termen scurt.

**Calcul Consum:**
- Consum total estimat în funcționare: ~300 mA la 3.3V.
- În standby: ~50 mA datorită modului de consum redus al ESP32 și e-paper.

---

### 3. Module de Afișare
#### E-Paper Display
- **Control:** Prin interfața SPI (MOSI, MISO, SCK, CS).
- **Alimentare:** Tensiune 3.3V, controlată prin MOSFET pentru economisire.
- **Reset și Busy:** Monitorizate prin GPIO pentru sincronizare.

---

### 4. Stocare Externă
#### NOR Flash W25Q512JVEIQ (64MB)
- **Interfață:** SPI (CS, SCK, MISO, MOSI)
- **Rol:** Stocare firmware și resurse grafice.

#### SD Card
- **Interfață:** SPI pentru citire și scriere rapidă de date ebook.

---

### 5. Senzori și Monitorizare
#### Senzor BME688 (Temperatură, Umiditate, Presiune, Calitate Aer)
- **Interfață:** I2C.
- **Alimentare:** 3.3V.

#### Modulul RTC
- **Interfață:** I2C.
- **Alimentare Backup:** Supercapacitor pentru menținerea timpului în lipsa alimentării principale.
- **DS3231SN:** Menține timpul și data.

---

### 6. Interfața de Utilizator
- **Buton Reset:** Resetare manuală a microcontrollerului.
- **Buton Boot:** Intrare în modul programare.
- **Buton de Schimbare:** Configurabil pentru funcții speciale.

---

### 7. Testare și Monitorizare
- **Test Pads:** Puncte de test pentru măsurarea semnalelor SPI, UART, I2C și tensiuni critice.
- **Protecție ESD:** Pe toate liniile critice pentru prevenirea descărcărilor electrostatice.

---

### 8. Conectivitate Externă
#### Qwiic / Stemma QT
- **Interfață I2C:** Permite adăugarea rapidă de module senzoriale suplimentare.
- **Conectare Modulară:** Permite prototipare rapidă și flexibilă.

---

### Folosirea pinilor ESP32-C6


| Modul                  | Pini                                            | Interfață | Motiv                                                                     | 
| ---------------------- | --------------------------------------------------------- | --------- | -------------------------------------------------------------------------- |
| Modul RTC (DS3231)     | IO0 - INT\_RTC, IO1 - 32KHz, IO18 - RST, IO21 - SDA, IO22 - SCL | I2C       | Menține timpul chiar și atunci când ESP32 este oprit.                    |
| Card MicroSD           | IO2 - MISO, IO4 - SS\_SD, IO6 - SCK, IO7 - MOSI                | SPI       | Permite stocarea și recuperarea fișierelor ebook.                        |
| Memorie Flash Externă (NOR) | IO2 - MISO, IO6 - SCK, IO7 - MOSI, IO11 - Flash CS                   | SPI       | Oferă stocare suplimentară pentru datele aplicației.                     |
| E-Paper Display        | IO3 - BUSY, IO5 - DC, IO6 - SCK, IO7 - MOSI, IO10 - EPD CS, IO23 - RST | SPI       | Transferă datele de imagine către afișaj și controlează starea acestuia. |
| Senzor de Mediu (BME688) | IO21 - SDA, IO22 - SCL                                     | I2C       | Citește temperatura, umiditatea, presiunea și calitatea aerului.         |
| Monitorizare Baterie   | IO21 - SDA, IO22 - SCL                                     | I2C       | Citește tensiunea bateriei și starea de încărcare.                       |
| Diverse               | IO9 - BOOT, IO15 - CHANGE, EN - RESET, NC - Not Connected                          | GPIO      | Intrare de utilizator pentru interacțiunea cu dispozitivul.              |

